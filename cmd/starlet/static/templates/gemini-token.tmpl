<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generate Gemini proxy token</title>
  <link rel="stylesheet" href="/{{ .MainCSS }}">
  <link rel="stylesheet" href="/{{ .GeminiTokenCSS }}">
</head>
<body>
  <main>
    <h1>Generate Gemini proxy token</h1>
    <p>Generate a new JWT for accessing the Gemini proxy.</p>

    <div class="token-container">
      <form method="post" class="token-form">
        <label for="duration">Token TTL</label>
        <input type="text" id="duration" name="duration" value="{{ .DefaultDuration }}" title="e.g., 1h, 24h, 7d">
        <button type="submit">Generate</button>
      </form>

      {{ if .Token }}
        <div class="token-result">
          <h2>Generated token</h2>
          <p>This token will expire in {{ .Duration }}.</p>
          <div class="token-display">
            <button class="copy-btn" id="copy-btn">Copy</button>
            <pre><code id="jwt-token">{{ .Token }}</code></pre>
          </div>
        </div>
      {{ end }}
    </div>
  </main>

  {{ if .Token }}
    <script defer src="/{{ .GeminiTokenJS }}"></script>
  {{ end }}
</body>
</html>
