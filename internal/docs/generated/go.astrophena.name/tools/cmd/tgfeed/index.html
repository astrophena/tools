<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="doc2go">
    <link href="../../../../_/css/main.css" rel="stylesheet" />
    <link rel="apple-touch-icon" sizes="180x180" href="../../../../_/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../../_/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../../_/icons/favicon-16x16.png">
    <link rel="shortcut icon" href="../../../../_/icons/favicon.ico"><title>tgfeed</title>
</head>
  <body>
    <nav>
        <a href="../../..">go.astrophena.name</a>/<a href="../..">tools</a>/<a href="..">cmd</a>/tgfeed<span class="navbar-right">
          <a href="../../../..">Root</a></span>
      </nav>
    <main><h2 id="pkg-overview">tgfeed</h2>

<p>Tgfeed fetches RSS feeds and sends new articles via Telegram.
<h3 id="hdr-How_it_works_">How it works?</h3>
<p>tgfeed runs as a GitHub Actions workflow.
<p>It fetches RSS feeds from URLs provided in the feeds.json file on GitHub Gist.
<p>New articles are sent to a Telegram chat specified by the CHAT_ID environment
variable.
<h3 id="hdr-Where_it_keeps_state_">Where it keeps state?</h3>
<p>tgfeed stores it&apos;s state on GitHub Gist.
<p>It maintains a state for each feed, including last modified time, last
updated time, ETag, error count, and last error message. It keeps track of
failing feeds and disables them after a certain threshold of consecutive
failures. State information is stored and updated in the state.json file on
GitHub Gist.
<h3 id="hdr-Environment_variables">Environment variables</h3>
<p>The tgfeed program relies on the following environment variables:
<ul>
<li>CHAT_ID: Telegram chat ID where the program sends new articles.
<li>GIST_ID: GitHub Gist ID where the program stores its state.
<li>GITHUB_TOKEN: GitHub personal access token for accessing the GitHub API.
<li>TELEGRAM_TOKEN: Telegram bot token for accessing the Telegram Bot API.
</ul>
<h3 id="hdr-Summarization_with_Gemini_API">Summarization with Gemini API</h3>
<p>tgfeed can summarize the text content of articles using the Gemini API. This
feature requires setting the GEMINI_API_KEY environment variable. When provided,
tgfeed will attempt to summarize the description field of fetched RSS items and
include the summary in the Telegram notification along with the article title
and link.
<h3 id="hdr-Administration">Administration</h3>
<p>To subscribe to a feed, you can use the -subscribe flag followed by the URL of
the feed. For example:
<pre>$ tgfeed -subscribe https://example.com/feed
</pre>
<p>To unsubscribe from a feed, you can use the -unsubscribe flag followed by the URL of
the feed. For example:
<pre>$ tgfeed -unsubscribe https://example.com/feed
</pre>
<p>To reenable a failing feed that has been disabled due to consecutive failures,
you can use the -reenable flag followed by the URL of the feed. For example:
<pre>$ tgfeed -reenable https://example.com/feed
</pre>
<p>To view the list of feeds, you can use the -feeds flag. This will also print the
URLs of feeds that have encountered errors during fetching. For example:
<pre>$ tgfeed -feeds
</pre>
</main>
    <hr>
    <footer>
      <small id="generated-by-footer">
        Generated with <a href="https://abhinav.github.io/doc2go/">doc2go</a>
      </small>
    </footer>
    <script src="../../../../_/js/permalink.js"></script></body>
</html>
